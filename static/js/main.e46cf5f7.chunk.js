(this["webpackJsonpachoratechs-ghana"]=this["webpackJsonpachoratechs-ghana"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(7),a=n(0),s=n(6),o=n.n(s),r=(n(18),n(19),n(2)),i=n(1),l=Object(a.createContext)(),u=function(e){var t=e.initialState,n=e.reducer,c=e.children;return Object(i.jsx)(l.Provider,{value:Object(a.useReducer)(n,t),children:c})},d=function(){return Object(a.useContext)(l)},b={BASE_URL:"https://test.anchoratechs.com",categories:void 0,products:void 0},j="SET_CATEGORIES",m="SET_PRODUCTS",h=function(e,t){switch(console.log(t),t.type){case j:return Object(c.a)(Object(c.a)({},e),{},{categories:t.categories});case m:return Object(c.a)(Object(c.a)({},e),{},{products:t.products});default:return e}},x=n(4),p=n(5),O=n.n(p);var f=function(e){var t=e.label,n=e.name,c=e.onInputBoxChange,s=e.stateVal,o=Object(a.useCallback)((function(e){c(e.target.value)}),[c]);return Object(i.jsxs)("div",{className:"my-2",children:[Object(i.jsx)("label",{className:"my-2 block text-sm",children:t}),Object(i.jsx)("input",{type:"text",required:!0,onChange:o,value:s,name:n,className:"border outline-none p-2 px-3 w-full"})]})};var g=function(e){return Object(i.jsx)("h2",{className:"text-center text-lg font-bold",children:e.title})};var v=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(""),l=Object(r.a)(o,2),u=l[0],b=l[1],m=Object(a.useState)(""),h=Object(r.a)(m,2),p=h[0],v=h[1],y=d(),C=Object(r.a)(y,2),N=C[0],w=N.categories,S=N.BASE_URL,T=C[1],E=Object(x.d)();return Object(i.jsxs)("div",{id:e.id,className:"w-full bg-white shadow-sm p-2 rounded-md flex justify-between mb-4",children:[Object(i.jsx)("div",{className:"name",children:e.name}),Object(i.jsxs)("aside",{className:"flex uppercase gap-x-3",children:[Object(i.jsx)("div",{onClick:function(){return function(e){v(e),s(!0);var t=w.filter((function(t){return t.id===e}));b(t[0].name)}(e.id)},className:"p-1 bg-blue-100 rounded text-blue-500 text-xs px-3 cursor-pointer hover:shadow-md ",children:"Edit"}),Object(i.jsx)("div",{onClick:function(){return function(e){var t=w.filter((function(t){return t.id!==e}));T({type:j,categories:t}),fetch("".concat(S,"/categories/").concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){E.show(e.message)}))}(e.id)},className:"p-1 bg-red-100 rounded text-red-500 text-xs px-3 cursor-pointer hover:shadow-md ",children:"Delete"})]}),Object(i.jsxs)(O.a,{isOpen:c,shouldCloseOnOverlayClick:!0,onRequestClose:function(){return s(!1)},style:{overflow:{background:"rgba(0, 0, 0, 0.3)"},content:{maxWidth:"500px",margin:"auto"}},children:[Object(i.jsx)("button",{onClick:function(){return s(!1)},className:"btn p-1 uppercase bg-red-100 rounded text-red-500 text-xs px-3 cursor-pointer shadow-md ",children:"Close X"}),Object(i.jsx)(g,{title:"Add New Category"}),Object(i.jsxs)("form",{method:"PUT",onSubmit:function(e,t){e.preventDefault();var n=JSON.stringify({name:u});fetch("".concat(S,"/categories/").concat(p),{method:"PUT",headers:{"Content-Type":"application/json"},body:n}).then((function(e){return e.json()})).then((function(e){fetch("".concat(S,"/categories")).then((function(e){return e.json()})).then((function(e){T({type:j,categories:e.data})})),s(!1),b(""),E.show(e.message)}))},children:[Object(i.jsx)("div",{className:"my-10",children:Object(i.jsx)(f,{onInputBoxChange:b,label:"Category Name",name:"categoryName",stateVal:u},"1")}),Object(i.jsx)("button",{type:"submit",className:"w-9/12 m-auto outline-none btn table p-2 px-5 rounded shadow-2xl uppercase cursor-pointer text-xs bg-blue-600 text-white ",children:"Update Category"})]})]})]})};var y=function(){var e=d(),t=Object(r.a)(e,2),n=t[0],c=n.categories,s=n.BASE_URL,o=t[1],l=Object(x.d)();Object(a.useEffect)((function(){fetch("".concat(s,"/categories")).then((function(e){return e.json()})).then((function(e){o({type:j,categories:e.data})}))}),[]);var u=Object(a.useState)(!1),b=Object(r.a)(u,2),m=b[0],h=b[1],p=Object(a.useState)(""),y=Object(r.a)(p,2),C=y[0],N=y[1];return Object(i.jsxs)("div",{className:"bg-gray-200 flex flex-col h-full overflow-hidden",children:[Object(i.jsx)("h3",{className:"text-xl m-2 my-3",children:"Categories"}),Object(i.jsx)("div",{className:"flex p-4 justify-end",children:Object(i.jsx)("div",{onClick:function(){return h(!0)},className:"table p-2 rounded shadow-2xl uppercase cursor-pointer text-xs bg-blue-600 text-white hover:bg-white hover:text-blue-600",children:"Create Category"})}),Object(i.jsx)("section",{className:"text-left p-4 mt-5 overflow-auto ",children:"undefined"!=typeof c?c.map((function(e,t){return Object(i.jsx)(v,{name:e.name,pos:t,id:e.id},e.id)})):""}),Object(i.jsxs)(O.a,{isOpen:m,shouldCloseOnOverlayClick:!0,onRequestClose:function(){return h(!1)},style:{overflow:{background:"rgba(0, 0, 0, 0.3)"},content:{maxWidth:"500px",margin:"auto"}},children:[Object(i.jsx)("button",{onClick:function(){return h(!1)},className:"btn p-1 uppercase bg-red-100 rounded text-red-500 text-xs px-3 cursor-pointer shadow-md ",children:"Close X"}),Object(i.jsx)(g,{title:"Add New Category"}),Object(i.jsxs)("form",{method:"POST",onSubmit:function(e){e.preventDefault();var t=JSON.stringify({name:C});fetch("".concat(s,"/categories"),{method:e.target.method,headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()})).then((function(e){c.unshift(e.data),o({type:j,categories:c}),h(!1),N(""),l.show(e.message)}))},children:[Object(i.jsx)("div",{className:"my-10",children:Object(i.jsx)(f,{onInputBoxChange:N,label:"Category Name",name:"categoryName",stateVal:C},"1")}),Object(i.jsx)("button",{type:"submit",className:"w-9/12 m-auto outline-none btn table p-2 px-5 rounded shadow-2xl uppercase cursor-pointer text-xs bg-blue-600 text-white ",children:"Add Category"})]})]})]})};var C=function(e){var t=e.label,n=e.name,c=e.onInputBoxChange,s=e.stateVal,o=Object(a.useCallback)((function(e){c(e.target.value)}),[c]);return Object(i.jsxs)("div",{className:"my-2",children:[Object(i.jsx)("label",{className:"my-2 block text-sm",children:t}),Object(i.jsx)("textarea",{required:!0,onChange:o,value:s,name:n,className:"border outline-none p-2 px-3 w-full",children:s})]})};var N=function(e){var t=e.label,n=e.name,c=e.optionList,s=e.onInputBoxChange,o=e.stateVal,r=(e.isBeingEdited,Object(a.useCallback)((function(e){s(e.target.value)}),[s]));return Object(i.jsxs)("div",{className:"my-2",children:[Object(i.jsx)("label",{className:"my-2 block text-sm",children:t}),Object(i.jsx)("select",{id:o,onChange:r,required:!0,value:o,name:n,className:"border outline-none p-2 px-3 w-full",children:"undefined"!=typeof c?c.map((function(e,t){return Object(i.jsx)("option",{value:e.id,children:e.name},t)})):""})]})};var w=function(e){var t=e.item,n=Object(a.useState)(t.id),c=Object(r.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)(""),u=Object(r.a)(l,2),b=u[0],j=u[1],h=Object(a.useState)(""),p=Object(r.a)(h,2),v=p[0],y=p[1],w=Object(a.useState)(0),S=Object(r.a)(w,2),T=S[0],E=S[1],k=Object(a.useState)(""),I=Object(r.a)(k,2),B=I[0],P=I[1],D=Object(a.useState)(""),L=Object(r.a)(D,2),A=L[0],R=L[1],U=Object(a.useState)(!1),V=Object(r.a)(U,2),_=V[0],q=V[1],J=d(),F=Object(r.a)(J,2),W=F[0],X=W.BASE_URL,G=W.categories,M=W.products,H=F[1],z=Object(x.d)();return Object(i.jsxs)("div",{className:"hello",children:[Object(i.jsxs)("div",{className:"shadow-lg ",children:[Object(i.jsx)("img",{className:"max-h-52  h-full w-full object-cover ",src:b,alt:"ProductImage"}),Object(i.jsxs)("div",{className:"text-sm  p-4",children:[Object(i.jsxs)("div",{className:"text-sm font-semibold ",children:["Price: GHS",t.price]}),Object(i.jsxs)("div",{className:"text-sm font-semibold ",children:["Title: ",t.title]}),Object(i.jsxs)("div",{className:"text-sm font-semibold ",children:["Category: ",t.category.name]}),Object(i.jsxs)("div",{className:"text-sm font-semibold ",children:["Description: ",t.description]}),Object(i.jsxs)("aside",{className:"flex uppercase gap-x-3 my-2",children:[Object(i.jsx)("div",{onClick:function(){return function(e){o(e),q(!0);var t=M.filter((function(t){return t.id===e}));j(t[0].image),y(t[0].title),E(t[0].price),P(t[0].category.id),R(t[0].description),console.log("LOAD VAL: ",t[0])}(t.id)},className:"p-1 bg-blue-100 rounded text-blue-500 text-xs px-3 cursor-pointer hover:shadow-md ",children:"Edit"}),Object(i.jsx)("div",{onClick:function(){return function(e){var t=M.filter((function(t){return t.id!==e}));H({type:m,products:t}),fetch("".concat(X,"/items/").concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){z.show(e.message)}))}(t.id)},className:"p-1 bg-red-100 rounded text-red-500 text-xs px-3 cursor-pointer hover:shadow-md ",children:"Delete"})]})]})]}),Object(i.jsxs)(O.a,{isOpen:_,shouldCloseOnOverlayClick:!0,onRequestClose:function(){return q(!1)},style:{overflow:{background:"rgba(0, 0, 0, 0.3)"},content:{maxWidth:"500px",margin:"auto"}},children:[Object(i.jsx)("button",{onClick:function(){return q(!1)},className:"btn p-1 uppercase bg-red-100 rounded text-red-500 text-xs px-3 cursor-pointer shadow-md ",children:"Close X"}),Object(i.jsx)(g,{title:"Add New Item"}),Object(i.jsxs)("form",{method:"PUT",onSubmit:function(e,t){e.preventDefault();var n=JSON.stringify({image:b,title:v,price:T,description:A,category:B});fetch("".concat(X,"/items/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:n}).then((function(e){return e.json()})).then((function(e){fetch("".concat(X,"/items")).then((function(e){return e.json()})).then((function(e){H({type:m,products:e.data})})),q(!1),j(""),y(""),E(""),P(""),R(""),z.show(e.message)}))},children:[Object(i.jsxs)("div",{className:"my-10",children:[Object(i.jsx)("input",{onChange:function(){return j},type:"file",name:"itemImage"},"i0"),Object(i.jsx)(f,{onInputBoxChange:y,label:"Title",name:"itemTitle",stateVal:v},"i1"),Object(i.jsx)(f,{onInputBoxChange:E,label:"Price",name:"itemPrice",stateVal:T},"i2"),Object(i.jsx)(N,{onInputBoxChange:P,label:"Select Category",name:"itemCateory",optionList:G,stateVal:B,isBeingEdited:!0},"i3"),Object(i.jsx)(C,{onInputBoxChange:R,label:"Description",name:"itemDescription",stateVal:A},"i4")]}),Object(i.jsx)("button",{type:"submit",className:"w-9/12 m-auto outline-none btn table p-2 px-5 rounded shadow-2xl uppercase cursor-pointer text-xs bg-blue-600 text-white ",children:"Update Item"})]})]})]})};var S=function(){var e=d(),t=Object(r.a)(e,2),n=t[0],c=n.BASE_URL,s=n.categories,o=n.products,l=t[1],u=Object(x.d)();Object(a.useEffect)((function(){fetch("".concat(c,"/items")).then((function(e){return e.json()})).then((function(e){l({type:m,products:e.data})}))}),[]);var b=Object(a.useState)(!1),j=Object(r.a)(b,2),h=j[0],p=j[1],v=Object(a.useState)(""),y=Object(r.a)(v,2),S=y[0],T=y[1],E=Object(a.useState)(""),k=Object(r.a)(E,2),I=k[0],B=k[1],P=Object(a.useState)(0),D=Object(r.a)(P,2),L=D[0],A=D[1],R=Object(a.useState)(""),U=Object(r.a)(R,2),V=U[0],_=U[1],q=Object(a.useState)(""),J=Object(r.a)(q,2),F=J[0],W=J[1];return Object(i.jsxs)("div",{className:"col-span-2 bg-white flex flex-col",children:[Object(i.jsx)("h3",{className:"text-xl m-2 my-3",children:"Product List"}),Object(i.jsx)("div",{className:"flex p-4 justify-end",children:Object(i.jsx)("div",{onClick:function(){return p(!0)},className:"table p-2 rounded shadow-2xl uppercase cursor-pointer text-xs bg-blue-600 text-white hover:bg-white hover:text-blue-600",children:"Create Item"})}),Object(i.jsx)("section",{className:"text-left p-4 mt-5 flex-1 overflow-auto grid grid-cols-3 gap-3 col-span-2",children:"undefined"!=typeof o?o.map((function(e,t){return Object(i.jsx)(w,{item:e})})):""}),Object(i.jsxs)(O.a,{isOpen:h,shouldCloseOnOverlayClick:!0,onRequestClose:function(){return p(!1)},style:{overflow:{background:"rgba(0, 0, 0, 0.3)"},content:{maxWidth:"500px",margin:"auto"}},children:[Object(i.jsx)("button",{onClick:function(){return p(!1)},className:"btn p-1 uppercase bg-red-100 rounded text-red-500 text-xs px-3 cursor-pointer shadow-md ",children:"Close X"}),Object(i.jsx)(g,{title:"Add New Item"}),Object(i.jsxs)("form",{method:"POST",onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("file",S),fetch("".concat(c,"/upload"),{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:t}).then((function(e){return e.json()})).then((function(e){console.log("UPLOAD: ",e),T(e.data[0])}));var n=JSON.stringify({image:S,title:I,price:L,description:F,category:V});fetch("".concat(c,"/items"),{method:e.target.method,headers:{"Content-Type":"application/json"},body:n}).then((function(e){return e.json()})).then((function(e){console.log("NEW ITEM: ",e),fetch("".concat(c,"/items")).then((function(e){return e.json()})).then((function(e){l({type:m,products:e.data})})),p(!1),T(""),B(""),A(""),_(""),W(""),u.show(e.message),console.log(e)}))},encType:"multipart/form-data",children:[Object(i.jsxs)("div",{className:"my-10",children:[Object(i.jsx)("input",{onChange:function(e){e.preventDefault();var t=e.target.files[0];T(URL.createObjectURL(t))},type:"file",name:"itemImage",accept:"image/*"}),Object(i.jsx)(f,{onInputBoxChange:B,label:"Title",name:"itemTitle",stateVal:I},"i1"),Object(i.jsx)(f,{onInputBoxChange:A,label:"Price",name:"itemPrice",stateVal:L},"i2"),Object(i.jsx)(N,{onInputBoxChange:_,label:"Select Category",name:"itemCateory",optionList:s,stateVal:V},"i3"),Object(i.jsx)(C,{onInputBoxChange:W,label:"Description",name:"itemDescription",stateVal:F},"i4")]}),Object(i.jsx)("button",{type:"submit",className:"w-9/12 m-auto outline-none btn table p-2 px-5 rounded shadow-2xl uppercase cursor-pointer text-xs bg-blue-600 text-white ",children:"Add Product"})]})]})]})};var T=function(){return Object(i.jsxs)("div",{className:"App h-screen grid grid-cols-3",children:[Object(i.jsx)(y,{}),Object(i.jsx)(S,{})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))},k=n(13);O.a.setAppElement("#root");var I={position:x.b.BOTTOM_CENTER,timeout:5e3,offset:"30px",transition:x.c.SCALE};o.a.render(Object(i.jsx)(u,{initialState:b,reducer:h,children:Object(i.jsx)(x.a,Object(c.a)(Object(c.a)({template:k.a},I),{},{children:Object(i.jsx)(T,{})}))}),document.getElementById("root")),E()}},[[32,1,2]]]);
//# sourceMappingURL=main.e46cf5f7.chunk.js.map